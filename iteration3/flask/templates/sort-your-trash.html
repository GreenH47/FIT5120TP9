<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Sep 17 2023 10:07:54 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64fd6505d4610bed95f28c71" data-wf-site="64f1bb88ea83ec94b1e823e1">

<head>
  <meta charset="utf-8">
  <title>Sort Your Trash</title>
  <meta content="Sort Your Trash" property="og:title">
  <meta content="Sort Your Trash" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="/static/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/static/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/static/css/yuhans-cool-site-76ff05.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link rel="shortcut icon" href="/static/images/favicon.png">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script
    type="text/javascript">WebFont.load({ google: { families: ["Varela Round:400", "Inconsolata:400,700", "Inter:regular,500,600,700", "Libre Baskerville:regular,italic,700", "Volkhov:regular,italic,700,700italic", "Noto Serif:regular,italic,700,700italic"] } });</script>
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>

  <style>
    .filter-container {
      margin-bottom: 10px;
    }

    .waste-type {
      cursor: pointer;
      color: white;
    }

    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      border-radius: 4px;
      display: none;
    }


  </style>
</head>

<body>
  <div data-collapse="small" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease"
    role="banner" class="nav-bar w-nav">
    <div class="nav-container w-container">
      <div class="logo-div">
        <a href="index.html" class="nav-logo w-inline-block"><img src="/static/images/logo-no-background.png" width="133"
            sizes="133px"
            srcset="/static/images/logo-no-background-p-500.png 500w, /static/images/logo-no-background-p-800.png 800w, /static/images/logo-no-background.png 1000w"
            alt="" class="logo"></a>
      </div>
      <nav role="navigation" class="nav-content w-nav-menu">
        <div class="search-banner">
          <div class="search-section">
            <form action="/search" class="search w-form"><input type="submit" value="Search" class="hidden w-button">
            </form>
          </div>
        </div>
        <div class="nav-menu">
          <a href="index.html" class="nav-link w-nav-link">Home</a>
          <a href="know-your-area.html" aria-current="page" class="nav-link w-nav-link w--current">Know Your Area</a>
          <a href="sort-your-trash.html" class="nav-link w-nav-link">Sort your Trash</a>
          <a href="find-your-recycler.html" class="nav-link w-nav-link">Find Your Recycler</a>
          <a href="resources.html" class="nav-link w-nav-link">DIY Class</a>
          <a href="bin-collection-day.html" class="nav-link w-nav-link">Bin Collection Day</a>
          <a href="quiz-game.html" class="nav-link w-nav-link w--current">Mini Game</a>
        </div>
        <div class="nav-cta-button-container"></div>
      </nav>
      <div class="menu-button w-nav-button"><img src="/static/images/Menu-Icon.svg" loading="lazy" width="24" alt=""
          class="menu-icon"></div>
    </div>
  </div>
  <div class="div-block-11"></div>
  <section class="section-5">
    <div>
      <div class="columns-9 w-row">
        <div class="column-20 w-col w-col-6">
          <h1 class="heading-23"><strong class="bold-text-12">Sort Your Trash</strong></h1>
          <p class="paragraph-49">Enter your postcode to view your local rubbish bin policy, and select any waste type to discover its correct disposal method.</p>
        </div>
        <div class="w-col w-col-6">
          <div class="w-layout-blockcontainer container-9 w-container"><img
                  src="/static/images/pexels-lara-jameson-9324356.jpg" loading="lazy"
                  sizes="(max-width: 479px) 300px, (max-width: 767px) 500px, (max-width: 991px) 364px, 100vw"
                  srcset="/static/images/pexels-lara-jameson-9324356-p-500.jpg 500w, /static/images/pexels-lara-jameson-9324356-p-800.jpg 800w, /static/images/pexels-lara-jameson-9324356-p-1080.jpg 1080w, /static/images/pexels-lara-jameson-9324356-p-1600.jpg 1600w, /static/images/pexels-lara-jameson-9324356-p-2000.jpg 2000w, /static/images/pexels-lara-jameson-9324356-p-2600.jpg 2600w, /static/images/pexels-lara-jameson-9324356-p-3200.jpg 3200w, /static/images/pexels-lara-jameson-9324356.jpg 3963w"
                  alt="" class="image-19"></div>
        </div>
    </div>
    <div class="div-block-12"></div>
    <div></div>
    <div></div>
  </section>

  <div class="columns-10 w-row">
    <div class="column-21 w-col w-col-4">
      <label for="postcodeInput" class="text-block-21">Council Postcode:</label>
    </div>
    <div class="w-col w-col-4">
      <div class="w-form">
        <input type="number" id="postcodeInput" name="postcode" placeholder="Enter postcode" class="w-input"
          maxlength="256">
      </div>
      <div id="postcodeList" class="postcode-list"></div> <!-- Display the postcode options here -->
    </div>
    <div class="w-col w-col-4">
      <button id="submitBtn" class="search-button">Search</button>
    </div>
  </div>
  <div id="response" style="display: none;">
    <div class="div-block-30"></div>
    <div>
      <div class="w-row">
        <div class="council_layout" id="council_info">
        </div>
        <div>
          <div class="columns-14 w-row">
            <div class="column-27 w-col w-col-6"><img src="/static/images/IMG_0179.png" loading="lazy" width="188" sizes="(max-width: 479px) 119.5px, (max-width: 767px) 25vw, 188px" alt="" srcset="/static/images/IMG_0179.png 500w, /static/images/IMG_0179.png 800w, /static/images/IMG_0179.png 1080w, /static/images/IMG_0179.png 1138w"></div>
            <div class="column-32 w-col w-col-6">
              <div class="text-block-32" id="landfillContainer"></div>
            </div>
          </div>
          <div class="columns-15 w-row">
            <div class="column-27 w-col w-col-6"><img src="/static/images/IMG_0180.png" loading="lazy" width="191" sizes="(max-width: 479px) 119.5px, (max-width: 767px) 25vw, 191px" alt="" srcset="/static/images/IMG_0180.png 500w, /static/images/IMG_0180.png 800w, /static/images/IMG_0180.png 1080w, /static/images/IMG_0180.png 1145w"></div>
            <div class="w-col w-col-6">
              <div class="text-block-32" id="recycleContainer"></div>
            </div>
          </div>
          <div class="columns-16 w-row">
            <div class="column-27 w-col w-col-6"><img src="/static/images/IMG_0158.png" loading="lazy" width="200" sizes="(max-width: 479px) 119.5px, (max-width: 767px) 26vw, 200px" alt="" srcset="/static/images/IMG_0158.png 500w, /static/images/IMG_0158.png 800w, /static/images/IMG_0158.png 1080w, /static/images/IMG_0158.png 1227w"></div>
            <div class="w-col w-col-6">
              <div class="text-block-32" id="greenContainer"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="div-block-29"></div>
    <section>
      <div class="grey-layout">
        <div class="text-block-33">Can&#x27;t find the waste type you&#x27;re looking for? <br>‍<br><br>Type its name and search!</div>
      </div>
      <div class="columns-10 w-row">
        <div class="column-21 w-col w-col-4">
          <label for="filterInput" class="text-block-21">Waste type:</label>
        </div>
        <div class="w-col w-col-4">
          <div class="w-form">
            <input type="text" id="filterInput" name="filterInput" placeholder="Enter search term" class="w-input"
              maxlength="256">
          </div>
        </div>
        <div class="w-col w-col-4">
        </div>
      </div>
      <div class="columns-10 w-row">
        <div id="wasteTypeContainer" class="grid-container"></div>
      </div>
    </section>
    <div class="popup" id="popupContainer"></div>
  </div>
  <div id="error" class="tooltip" style="display: none;" >
    <p>Postcode not found, please try again.</p>
  </div>
  
  <div class="footer">
    <div class="footer-container w-container">
      <div class="w-layout-grid footer-grid">
        <div id="w-node-b8d7be4a-ce45-83ab-5947-02d204c8bff0-cf3fcb86" class="footer-logo-block">
          <a data-ix="logo" href="index.html" class="footer-logo w-nav-brand"><img src="/static/images/logo-no-background.png"
              width="204" sizes="(max-width: 479px) 83vw, 204px"
              srcset="/static/images/logo-no-background-p-500.png 500w, /static/images/logo-no-background-p-800.png 800w, /static/images/logo-no-background.png 1000w"
              alt=""></a>
          <p class="paragraph small">Built by <a href="#">Fantastic Nine</a>.<br></p>
          <div class="spacer _16"></div>
          <div class="paragraph small">© 2023 Waste Island. All Rights Reserved.</div>
        </div>
        <div class="footer-links-container">
          <h5 class="footer-header">Website</h5>
          <a href="index.html" class="footer-link">Home</a>
          <a href="know-your-area.html" class="footer-link">Know Your Area</a>
          <a href="find-your-recycler.html" class="footer-link">Find Your Recycler</a>
          <a href="resources.html" class="footer-link">DIY Class</a>
          <a href="sort-your-trash.html" class="footer-link">Sort Your Trash</a>
          <a href="bin-collection-day.html" class="footer-link">Bin Collection Day</a>
          <a href="quiz-game.html" class="footer-link">Mini Game</a>
        </div>
        <div class="footer-links-container">
          <h5 class="footer-header">Company</h5>
          <a href="copyrights-disclaimers.html" class="footer-link">Copyrights &amp; Disclaimers</a>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64f1bb88ea83ec94b1e823e1"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="/static/js/webflow.js" type="text/javascript"></script>

<script>
    // Load the postcode options from postcode.json
    var postcodeOptions;
    var greenBin = "/static/images/green.jpg";
    var garbageBin = "/static/images/garbage.jpg";
    var houseBin = "/static/images/house.jpg";
    var recycleBin = "/static/images/recycle.jpg";
    var yesSign = "/static/images/yes.jpg";
    var noSign = "/static/images/no.jpg";

    // Fetch the postcode.json file and store the data in postcodeOptions variable
    fetch('/static/resource/postcode.json')
            .then(response => response.json())
            .then(data => postcodeOptions = data)
            .catch(error => console.log('Error fetching postcode options:', error));

    // Event listener for input changes
    document.getElementById('postcodeInput').addEventListener('input', function (event) {
        var input = event.target.value.trim();
        var postcodeList = document.getElementById('postcodeList');
        var optionsList = '';

        if (input === '') {
            postcodeList.innerHTML = '';
            return;
        }

        // Filter the postcode options based on the input
        var filteredOptions = postcodeOptions.filter(function (option) {
            return option.postcode.toString().startsWith(input);
        });

        if (filteredOptions.length > 0) {
            filteredOptions.forEach(function (option) {
                optionsList += '<div class="postcode-option" data-postcode="' + option.postcode + '">' + option.postcode + ' ' + option.locality_name + '</div>';
            });
        } else {
            optionsList = '<div class="no-options">No options found</div>';
        }

        postcodeList.innerHTML = optionsList;
    });

    // Event listener for selecting a postcode option
    document.getElementById('postcodeList').addEventListener('click', function (event) {
        var selectedOption = event.target;
        var postcodeInput = document.getElementById('postcodeInput');

        if (selectedOption.classList.contains('postcode-option')) {
            var selectedPostcode = selectedOption.dataset.postcode;
            postcodeInput.value = selectedPostcode;
            document.getElementById('postcodeList').innerHTML = '';
        }
    });

    function sendRequest() {
        var postcode = document.getElementById("postcodeInput").value;

        var jsonRequest = {
            "postcode": postcode
        };

        //var url = "https://p7fldwksi8.execute-api.us-east-1.amazonaws.com/deploy";
        var url = "/api/rest/sort-your-trash"

        var startTime = performance.now();
        fetch(url, {
            method: "POST",
            body: JSON.stringify(jsonRequest),
            headers: {
                "Content-Type": "application/json"
            }
        })
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    var endTime = performance.now();
                    var responseTime = endTime - startTime;
                    console.log("Response Time:", responseTime, "ms")
                    console.log(data)
                    // clear response container
                    var responseContainer = document.getElementById("response");
                    var errorContainer = document.getElementById("error");
                    var landfillContainer = document.getElementById("landfillContainer");
                    var recycleContainer = document.getElementById("recycleContainer");
                    var greenContainer = document.getElementById("greenContainer");
                    var councilInfo = document.getElementById("council_info");


                    if (data.statusCode == 200) {
                        responseContainer.style.display = "block";
                        landfillContainer.style.display = "block";
                        recycleContainer.style.display = "block";
                        greenContainer.style.display = "block";
                        processResponse(data);
                    } else {
                        responseContainer.style.display = "none";
                        errorContainer.style.display = "block";
                        showErrorTooltip();
                    }
                })
                .catch(function (error) {
                    console.error("Error:", error);
                });
    }


    function processResponse(data) {
        var councilInfoContainer = document.getElementById("council_info");
        councilInfoContainer.innerHTML = "<h2>" + data.body.council_name + "</h2>";

        // Separate containers for landfill, recycle, and green
        var landfillContainer = document.getElementById("landfillContainer");
        var recycleContainer = document.getElementById("recycleContainer");
        var greenContainer = document.getElementById("greenContainer");

        // Generate table for landfill policies
        landfillContainer.innerHTML = generatePolicyTable({
            "<img src='/static/images/yes.jpg' width='100' height='100'>": data.body.policy.landfill_yes,
            "<img src='/static/images/no.jpg' width='100' height='100'>": data.body.policy.landfill_no
        });

        // Generate table for recycle policies
        recycleContainer.innerHTML = generatePolicyTable({
            "<img src='/static/images/yes.jpg' width='100' height='100'>": data.body.policy.recycle_yes,
            "<img src='/static/images/no.jpg' width='100' height='100'>": data.body.policy.recycle_no
        });

        // Generate table for green policies
        greenContainer.innerHTML = generatePolicyTable({
            "<img src='/static/images/yes.jpg' width='100' height='100'>": data.body.policy.green_yes,
            "<img src='/static/images/no.jpg' width='100' height='100'>": data.body.policy.green_no
        });

        function generatePolicyTable(policyData) {
            let table = "<table>";

            let isFirstRow = true;
            for (let key in policyData) {
                if (policyData[key]) {
                    if (!isFirstRow) {
                        table += "<tr><td colspan='2' style='padding-bottom: 10px;'></td></tr>";
                    }

                    table += "<tr>";
                    table += "<td>" + key + "</td>";
                    table += "<td>" + policyData[key] + "</td>";
                    table += "</tr>";

                    isFirstRow = false;
                }
            }

            table += "</table>";
            return table;
        }


        // Populate waste types (no change from your original code)
        var wasteTypesContainer = document.getElementById("wasteTypeContainer");
        var wasteTypes = data.body.waste;
        var categorizedWasteTypes = {};

        for (var i = 0; i < wasteTypes.length; i++) {
            var firstChar = wasteTypes[i].waste_type.charAt(0).toUpperCase();
            if (!categorizedWasteTypes[firstChar]) {
                categorizedWasteTypes[firstChar] = [];
            }
            categorizedWasteTypes[firstChar].push(wasteTypes[i]);
        }

        var wasteTypeList = "";

        for (var key in categorizedWasteTypes) {
            wasteTypeList += `<div class='waste-type-group'>
                                <div class="directory">${key}</div>
                                <div id="group-${key}">`;
            for (var i = 0; i < categorizedWasteTypes[key].length; i++) {
                wasteTypeList += "<p class='waste-type' onclick='showPopup(\"" + categorizedWasteTypes[key][i].waste_type + "\", \"" + categorizedWasteTypes[key][i].waste_policy + "\")'>" + categorizedWasteTypes[key][i].waste_type + "</p>";
            }
            wasteTypeList += "</div></div>";
        }

        wasteTypesContainer.innerHTML = wasteTypeList;

    }


    function toggleVisibility(key) {
        var groupElement = document.getElementById("group-" + key);
        if (groupElement.style.display === "none") {
            groupElement.style.display = "block";
        } else {
            groupElement.style.display = "none";
        }
    }


    function showPopup(wasteType, wastePolicy) {

        var popupContainer = document.getElementById("popupContainer");
        popupContainer.style.display = "block";
        popupContainer.innerHTML = "<h3>" + wasteType + "</h3><p>" + wastePolicy + "</p>";

        setTimeout(function () {
            popupContainer.style.display = "none";
        }, 2000);
    }


    function filterWasteTypes() {
        var filterInput = document.getElementById("filterInput").value.toUpperCase();
        var wasteTypes = document.getElementsByClassName("waste-type");

        for (var i = 0; i < wasteTypes.length; i++) {
            var wasteType = wasteTypes[i].innerHTML.toUpperCase();

            if (wasteType.includes(filterInput)) {
                wasteTypes[i].style.display = "block";
            } else {
                wasteTypes[i].style.display = "none";
            }
        }
    }

    function showErrorTooltip() {
        var errorTooltip = document.getElementById('error');
        errorTooltip.style.display = 'block';

        // Set a timer to hide the tooltip after 2 seconds (2000 milliseconds)
        setTimeout(function () {
            errorTooltip.style.display = 'none';
        }, 2000);
    }


    var submitBtn = document.getElementById("submitBtn");
    submitBtn.addEventListener("click", sendRequest);

    var filterInput = document.getElementById("filterInput");
    filterInput.addEventListener("keyup", filterWasteTypes);

</script>
</body>

</html>